!function(e){function t(t){for(var r,u,l=t[0],s=t[1],i=t[2],f=0,d=[];f<l.length;f++)u=l[f],a[u]&&d.push(a[u][0]),a[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(c&&c(t);d.length;)d.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={0:0},o=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var c=s;o.push([455,1]),n()}({417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var r,a=n(3),o=(r=a)&&r.__esModule?r:{default:r};t.Context=o.default.createContext({})},418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitForm=t.getAvailableAppointments=void 0;var r,a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getAvailableAppointments=(r=c(regeneratorRuntime.mark(function e(t){var n,r,a,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="false"==t.isResit.value?(0,s.default)():(0,s.default)(t.previousTestDate.value).add(4,"weeks"),r=n<(0,s.default)()?(0,s.default)():n,a={from:r,to:(0,s.default)(r).add(18,"weeks"),isResit:"true"==t.isResit.value},e.prev=3,e.next=6,fetch("/book-taxi-driver-knowledge-test/available-appointments",{method:"POST",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(a)});case 6:return o=e.sent,e.next=9,o.json();case 9:return u=e.sent,e.abrupt("return",{status:o.status,appointments:u});case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",{status:500});case 16:case"end":return e.stop()}},e,this,[[3,13]])})),function(e){return r.apply(this,arguments)}),t.submitForm=(a=c(regeneratorRuntime.mark(function e(t){var n,r,a,s,i,c,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={},r=new u.default,Object.keys(t).map(function(e){void 0!==t[e]&&void 0!==t[e].value&&("object"===o(t[e].value)?n[e]=t[e].value:n[e]=(0,l.default)(t[e].value,{allowedTags:[],allowedAttributes:{}}))}),a=JSON.stringify(n),e.prev=4,e.t0=Promise,e.next=8,fetch("/book-taxi-driver-knowledge-test/submit",{method:"POST",headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8"},body:a});case 8:return e.t1=e.sent,e.t2=r.set(1e4,"Timeout!"),e.t3=[e.t1,e.t2],e.next=13,e.t0.race.call(e.t0,e.t3);case 13:return s=e.sent,e.next=16,s.text();case 16:return i=e.sent,c=JSON.parse(i),f=c.url,d=c.caseID,e.abrupt("return",{status:s.status,url:f,caseId:d});case 23:return e.prev=23,e.t4=e.catch(4),e.abrupt("return",{status:400});case 26:case"end":return e.stop()}},e,this,[[4,23]])})),function(e){return a.apply(this,arguments)});n(419);var u=i(n(741)),l=i(n(742)),s=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,o){try{var u=t[a](o),l=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}},455:function(e,t,n){n(456),e.exports=n(657)},657:function(e,t,n){"use strict";var r=c(n(3)),a=c(n(55)),o=c(n(662)),u=c(n(859)),l=n(199),s=c(n(860)),i=c(n(864));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,s.default)();a.default.render(r.default.createElement(u.default,null,r.default.createElement(l.Router,{history:f},r.default.createElement(i.default,null,r.default.createElement(o.default,null)))),document.getElementById("root"))},662:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),o=y(a),u=n(199),l=n(77),s=n(66),i=y(n(736)),c=y(n(737)),f=y(n(738)),d=y(n(739)),p=y(n(805)),m=y(n(856)),h=y(n(858));function y(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return o.default.createElement(u.Switch,null,o.default.createElement(u.Route,{exact:!0,path:(0,l.getPageRoute)(1),component:i.default}),o.default.createElement(u.Route,{exact:!0,path:(0,l.getPageRoute)(2),component:c.default}),o.default.createElement(u.Route,{exact:!0,path:(0,l.getPageRoute)(3),component:f.default}),o.default.createElement(u.Route,{exact:!0,path:(0,l.getPageRoute)(4),component:d.default}),o.default.createElement(u.Route,{exact:!0,path:(0,l.getPageRoute)(5),component:p.default}),o.default.createElement(u.Route,{exact:!0,path:(0,l.getPageRoute)(6),component:m.default}),o.default.createElement(u.Route,{exact:!0,path:(0,l.getPageRoute)(7),component:h.default}),o.default.createElement(u.Route,{exact:!0,path:"/error",component:s.ErrorPage}))}}]),t}();t.default=b},666:function(e){e.exports=[{number:1,route:"/book-taxi-driver-knowledge-test/test-type"},{number:2,route:"/book-taxi-driver-knowledge-test/first-time"},{number:3,route:"/book-taxi-driver-knowledge-test/about-yourself"},{number:4,route:"/book-taxi-driver-knowledge-test/choose-appointment"},{number:5,route:"/book-taxi-driver-knowledge-test/payment-summary"},{number:6,route:"/book-taxi-driver-knowledge-test/success"},{number:7,route:"/book-taxi-driver-knowledge-test/something-went-wrong"}]},667:function(e,t,n){var r={"./af":245,"./af.js":245,"./ar":246,"./ar-dz":247,"./ar-dz.js":247,"./ar-kw":248,"./ar-kw.js":248,"./ar-ly":249,"./ar-ly.js":249,"./ar-ma":250,"./ar-ma.js":250,"./ar-sa":251,"./ar-sa.js":251,"./ar-tn":252,"./ar-tn.js":252,"./ar.js":246,"./az":253,"./az.js":253,"./be":254,"./be.js":254,"./bg":255,"./bg.js":255,"./bm":256,"./bm.js":256,"./bn":257,"./bn.js":257,"./bo":258,"./bo.js":258,"./br":259,"./br.js":259,"./bs":260,"./bs.js":260,"./ca":261,"./ca.js":261,"./cs":262,"./cs.js":262,"./cv":263,"./cv.js":263,"./cy":264,"./cy.js":264,"./da":265,"./da.js":265,"./de":266,"./de-at":267,"./de-at.js":267,"./de-ch":268,"./de-ch.js":268,"./de.js":266,"./dv":269,"./dv.js":269,"./el":270,"./el.js":270,"./en-SG":271,"./en-SG.js":271,"./en-au":272,"./en-au.js":272,"./en-ca":273,"./en-ca.js":273,"./en-gb":274,"./en-gb.js":274,"./en-ie":275,"./en-ie.js":275,"./en-il":276,"./en-il.js":276,"./en-nz":277,"./en-nz.js":277,"./eo":278,"./eo.js":278,"./es":279,"./es-do":280,"./es-do.js":280,"./es-us":281,"./es-us.js":281,"./es.js":279,"./et":282,"./et.js":282,"./eu":283,"./eu.js":283,"./fa":284,"./fa.js":284,"./fi":285,"./fi.js":285,"./fo":286,"./fo.js":286,"./fr":287,"./fr-ca":288,"./fr-ca.js":288,"./fr-ch":289,"./fr-ch.js":289,"./fr.js":287,"./fy":290,"./fy.js":290,"./ga":291,"./ga.js":291,"./gd":292,"./gd.js":292,"./gl":293,"./gl.js":293,"./gom-latn":294,"./gom-latn.js":294,"./gu":295,"./gu.js":295,"./he":296,"./he.js":296,"./hi":297,"./hi.js":297,"./hr":298,"./hr.js":298,"./hu":299,"./hu.js":299,"./hy-am":300,"./hy-am.js":300,"./id":301,"./id.js":301,"./is":302,"./is.js":302,"./it":303,"./it-ch":304,"./it-ch.js":304,"./it.js":303,"./ja":305,"./ja.js":305,"./jv":306,"./jv.js":306,"./ka":307,"./ka.js":307,"./kk":308,"./kk.js":308,"./km":309,"./km.js":309,"./kn":310,"./kn.js":310,"./ko":311,"./ko.js":311,"./ku":312,"./ku.js":312,"./ky":313,"./ky.js":313,"./lb":314,"./lb.js":314,"./lo":315,"./lo.js":315,"./lt":316,"./lt.js":316,"./lv":317,"./lv.js":317,"./me":318,"./me.js":318,"./mi":319,"./mi.js":319,"./mk":320,"./mk.js":320,"./ml":321,"./ml.js":321,"./mn":322,"./mn.js":322,"./mr":323,"./mr.js":323,"./ms":324,"./ms-my":325,"./ms-my.js":325,"./ms.js":324,"./mt":326,"./mt.js":326,"./my":327,"./my.js":327,"./nb":328,"./nb.js":328,"./ne":329,"./ne.js":329,"./nl":330,"./nl-be":331,"./nl-be.js":331,"./nl.js":330,"./nn":332,"./nn.js":332,"./pa-in":333,"./pa-in.js":333,"./pl":334,"./pl.js":334,"./pt":335,"./pt-br":336,"./pt-br.js":336,"./pt.js":335,"./ro":337,"./ro.js":337,"./ru":338,"./ru.js":338,"./sd":339,"./sd.js":339,"./se":340,"./se.js":340,"./si":341,"./si.js":341,"./sk":342,"./sk.js":342,"./sl":343,"./sl.js":343,"./sq":344,"./sq.js":344,"./sr":345,"./sr-cyrl":346,"./sr-cyrl.js":346,"./sr.js":345,"./ss":347,"./ss.js":347,"./sv":348,"./sv.js":348,"./sw":349,"./sw.js":349,"./ta":350,"./ta.js":350,"./te":351,"./te.js":351,"./tet":352,"./tet.js":352,"./tg":353,"./tg.js":353,"./th":354,"./th.js":354,"./tl-ph":355,"./tl-ph.js":355,"./tlh":356,"./tlh.js":356,"./tr":357,"./tr.js":357,"./tzl":358,"./tzl.js":358,"./tzm":359,"./tzm-latn":360,"./tzm-latn.js":360,"./tzm.js":359,"./ug-cn":361,"./ug-cn.js":361,"./uk":362,"./uk.js":362,"./ur":363,"./ur.js":363,"./uz":364,"./uz-latn":365,"./uz-latn.js":365,"./uz.js":364,"./vi":366,"./vi.js":366,"./x-pseudo":367,"./x-pseudo.js":367,"./yo":368,"./yo.js":368,"./zh-cn":369,"./zh-cn.js":369,"./zh-hk":370,"./zh-hk.js":370,"./zh-tw":371,"./zh-tw.js":371};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=667},70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),u=(r=o)&&r.__esModule?r:{default:r},l=n(417);t.default=function(e){return function(t){return u.default.createElement(l.Context.Consumer,null,function(n){return u.default.createElement(e,a({},t,{context:n}))})}}},736:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeOfTest=void 0;var r=n(3),a=i(r),o=i(n(2)),u=i(n(70)),l=n(66),s=n(77);function i(e){return e&&e.__esModule?e:{default:e}}var c=t.TypeOfTest=function(e){var t=e.context,n=e.history;return a.default.createElement(r.Fragment,null,a.default.createElement("form",{onSubmit:function(e){e.preventDefault(),n.push((0,s.getPageRoute)(2))}},a.default.createElement("h1",null,t.formHeader),a.default.createElement(l.RadioInputsContainer,{onChange:t.onChange,options:[{label:"Private hire",id:"private",name:"testType",value:"Private hire"},{label:"Hackney carriage",id:"hackney",name:"testType",value:"Hackney carriage"},{label:"Executive hire",id:"executive",name:"testType",value:"Executive hire"},{label:"Assisted transport",id:"assisted",name:"testType",value:"Assisted transport"}],value:t.testType.value,displayHeading:!0,header:"Which taxi driver knowledge test do you want to take?",enableH2:!0}),a.default.createElement(l.Button,{label:"Next step",isValid:t.testType.isValid})))};c.propTypes={context:o.default.object,history:o.default.object},t.default=(0,u.default)(c)},737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resit=void 0;var r=n(3),a=i(r),o=i(n(2)),u=i(n(70)),l=n(66),s=n(77);function i(e){return e&&e.__esModule?e:{default:e}}var c=t.Resit=function(e){var t=e.context,n=e.history,o=[{label:"Yes",id:"yes",name:"isResit",value:"false"},{label:"No",id:"no",name:"isResit",value:"true",renderIfChecked:function(){return"true"===t.isResit.value&&a.default.createElement(l.DatePicker,{label:"Select the date of your last test",description:"You'll be able to choose a new test 4 weeks from this date",id:"previous-test-date",enableH2:!1,name:"previousTestDate",value:t.previousTestDate.value,onChange:t.onChange,validationMessage:"Check the date and try again",isOutsideRange:t.isOutsideRange})}}];return a.default.createElement(r.Fragment,null,a.default.createElement("form",{onSubmit:function(e){"false"==t.isResit.value&&(t.previousTestDate.value="",t.previousTestDate.isValid=!1),e.preventDefault(),n.push((0,s.getPageRoute)(3))}},a.default.createElement("h1",null,t.formHeader),a.default.createElement("h2",null,"Is this the first time you'll be taking the taxi driver knowledge test?"),a.default.createElement(l.RadioInputsContainer,{onChange:t.onChange,options:o,value:t.isResit.value,displayHeading:!1}),a.default.createElement(l.Button,{label:"Next step",isValid:"false"==t.isResit.value||"true"==t.isResit.value&&t.previousTestDate.isValid})),a.default.createElement(l.Anchor,{label:"Back",history:n}))};c.propTypes={context:o.default.object,history:o.default.object},t.default=(0,u.default)(c)},738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AboutYourself=void 0;var r=n(3),a=i(r),o=n(66),u=i(n(2)),l=i(n(70)),s=n(77);function i(e){return e&&e.__esModule?e:{default:e}}var c=t.AboutYourself=function(e){var t=e.context,n=e.history;return a.default.createElement(r.Fragment,null,a.default.createElement("form",{onSubmit:function(e){e.preventDefault(),n.push((0,s.getPageRoute)(4))}},a.default.createElement("h1",null,t.formHeader),a.default.createElement("h2",null,"Tell us about yourself"),a.default.createElement(o.TextInputContainer,{label:"First name",id:"firstName",type:"text",maxLength:"35",optional:!1,value:t.firstName.value,onChange:t.onChange}),a.default.createElement(o.TextInputContainer,{label:"Last name",id:"lastName",type:"text",maxLength:"60",optional:!1,value:t.lastName.value,onChange:t.onChange}),a.default.createElement(o.TextInputContainer,{label:"Phone number",id:"phoneNumber",type:"tel",value:t.phoneNumber.value,onChange:t.onChange}),a.default.createElement(o.TextInputContainer,{label:"Email address",id:"emailAddress",type:"email",value:t.emailAddress.value,onChange:t.onChange}),a.default.createElement(o.AddressPicker,{name:"address",address:t.address.value,automaticLabel:"Enter your postcode",automaticTextLabel:"Select the address below",useStockportPostcode:!0,enableHeading:!1,shouldDisplayManualSearch:!1,showManualOption:!0,manualLabel:"Enter your address",onChange:t.onChange}),a.default.createElement(o.Button,{isValid:t.address.isValid&&t.phoneNumber.isValid&&t.emailAddress.isValid,label:"Next step"})),a.default.createElement(o.Anchor,{label:"Back",history:n}))};c.propTypes={context:u.default.object,history:u.default.object},t.default=(0,l.default)(c)},739:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectAppointment=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),o=d(a),u=d(n(2)),l=d(n(70)),s=n(77),i=n(66),c=n(418),f=d(n(0));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.SelectAppointment=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.componentDidMount=(r=regeneratorRuntime.mark(function e(){var t,r,o,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.getAvailableAppointments)(a.props.context);case 2:t=e.sent,r=t.appointments,o=a.getTwelveWeeksAppointments(r),u=a.formatAppointments(t.appointments),(l=Object.assign({},a.state)).appointments=o,l.twelveWeekAppointments=o,l.eighteenWeekAppointments=u,a.setState(l);case 11:case"end":return e.stop()}},e,n)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(a,o){try{var u=e[a](o),l=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})}),a.formatAppointments=function(e){for(var t=0;t<e.length;t++){e[t].date=(0,f.default)(e[t].date,"DD/MM/YYYY",!0).format("dddd D MMMM YYYY");for(var n=0;n<e[t].times.length;n++)e[t].times[n].startTime=(0,f.default)(e[t].times[n].startTime,"HH:mm:ss",!0).format("H:mma")}return e},a.getTwelveWeeksAppointments=function(e){for(var t=[],n=(0,f.default)(e[0].date,"DD/MM/YYYY",!0).format(),r=(0,f.default)(n).add(12,"weeks").format(),a=0;a<e.length;a++){var o=e[a];(0,f.default)(e[a].date,"DD/MM/YYYY",!0).format()<r&&t.push(o)}return t},a.onSubmit=function(e){e.preventDefault(),history.push((0,s.getPageRoute)(5))},a.onClick=function(e){e.preventDefault();var t=Object.assign({},a.state);t.appointments=t.eighteenWeekAppointments,t.showMore=!1,a.setState(t)},e.context,a.state={appointments:[],twelveWeekAppointments:[],eighteenWeekAppointments:[],showMore:!0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.context.formHeader;return o.default.createElement(a.Fragment,null,o.default.createElement("form",{onSubmit:this.onSubmit},o.default.createElement("h1",null,e),o.default.createElement(i.AlertForm,{level:"information",content:"The test usually takes place on a Wednesday. There may be times when we run the test on other days, these will be displayed below."}),o.default.createElement(i.SelectableButtonList,{heading:"Select an appointment",enableH2:!0,buttonList:this.state.appointments,colour:"radio-list",inline:!0,showMore:this.state.showMore,onClick:this.onClick}),o.default.createElement(i.Button,{isValid:!0,label:"Next step"})),o.default.createElement(i.Anchor,{label:"Back",history:history}))}}]),t}();p.propTypes={context:u.default.object,history:u.default.object},t.default=(0,l.default)(p)},749:function(e,t){},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageRoute=void 0;var r,a=n(666),o=(r=a)&&r.__esModule?r:{default:r};t.getPageRoute=function(e){return o.default.filter(function(t){return t.number===e})[0].route}},779:function(e,t){},780:function(e,t){},781:function(e,t){},797:function(e,t){},805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentSummary=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(419);var a=n(3),o=d(a),u=n(66),l=d(n(2)),s=d(n(418)),i=n(77),c=d(n(70)),f=d(n(865));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.PaymentSummary=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,a,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.onChangeRecaptcha=function(e){o.setState({recaptchaValid:!!e})},o.onSubmit=(r=regeneratorRuntime.mark(function e(t){var r,a,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=o.props,a=r.context,u=r.history,o.setState({isLoading:!0}),e.next=5,(0,s.default)(a);case 5:200===(l=e.sent).status?window.location.assign(l.url):u.push((0,i.getPageRoute)(7));case 7:case"end":return e.stop()}},e,n)}),a=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(a,o){try{var u=e[a](o),l=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e){return a.apply(this,arguments)}),o.state={isLoading:!1,recaptchaValid:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.recaptchaValid,r=this.props,a=r.context,l=a.displayRecaptcha,s=a.formHeader,i=r.history;return o.default.createElement("form",{onSubmit:this.onSubmit},o.default.createElement("h1",null,s),o.default.createElement("h2",null,"Your booking summary"),o.default.createElement("p",null,"Your booking to take the taxi driver knowledge test is at 8:45am on Wednesday 23 January."),o.default.createElement("p",null,"You'll now be taken to our online system to make the payment."),o.default.createElement("p",null,"The cost is Â£70."),l&&o.default.createElement("div",{className:"recaptcha"},o.default.createElement(f.default,{sitekey:"6LfAeSIUAAAAAGsx6tYHz4MIvhP0pSx9Tq7Hf8Yx",onChange:this.onChangeRecaptcha,name:"recaptcharesult"})),o.default.createElement(u.Button,{id:"continue-to-payment",label:"Continue to payment",isValid:n||!l,isLoading:t}),o.default.createElement(u.Anchor,{label:"Previous",history:i}))}}]),t}();p.propTypes={context:l.default.object,history:l.default.object},t.default=(0,c.default)(p)},856:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Success=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),o=i(a),u=i(n(2)),l=i(n(70)),s=i(n(857));function i(e){return e&&e.__esModule?e:{default:e}}var c=t.Success=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){(0,s.default)(!0)},e.history.block(),e.context,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props.context.paymentReference;return o.default.createElement(a.Fragment,null,o.default.createElement("section",{className:"header-container"},o.default.createElement("h1",null,"Booking complete"),o.default.createElement("p",{className:"h2"},"Thank you for booking to take the taxi driver knowledge test"),o.default.createElement("p",null,o.default.createElement("strong",null,"Your payment reference: ",e))),o.default.createElement("section",{className:"body-container"},o.default.createElement("p",null,"Your appointment to take the hackney carriage taxi driver knowledge test is at..."),o.default.createElement("p",null,"We've sent you a confirmation email including this information."),o.default.createElement("h2",null,"What happens next"),o.default.createElement("p",null,"On the day of your test you'll need to go to the Town Hall, Edward Street, Stockport, SK1 3XE and check in at reception."),o.default.createElement("p",null,"Please arrive around 15 minutes early for your test to allow time for ID checks. If you're late you'll be turned away."),o.default.createElement("p",null,o.default.createElement("strong",null,"What you need to bring to your test")),o.default.createElement("p",null,"You'll need to bring the following with you to the test:"),o.default.createElement("ul",null,o.default.createElement("li",null,"Utility bill or bank statement from the last 3 months with your name and address on"),o.default.createElement("li",null,"Passport or other suitable evidence of your right to work in the UK"),o.default.createElement("li",null,"Photocard DVLA driving licence showing your current address")),o.default.createElement("p",null,o.default.createElement("strong",null,"Manage your test online")),o.default.createElement("p",null,"You can change your test date and time online up until midday the day before by using My Account."),o.default.createElement("p",null,o.default.createElement("a",{className:"button-primary",href:"https://myaccount.stockport.gov.uk/"},"Go to My Account"))))}}]),t}();c.propTypes={context:u.default.object,history:u.default.object},t.default=(0,l.default)(c)},857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=document.getElementById("breadcrumb");null!==t&&(e?t.classList.remove("hidden"):t.classList.add("hidden"))}},858:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SomethingWentWrong=void 0;var r=l(n(3)),a=l(n(2)),o=l(n(70)),u=n(66);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.SomethingWentWrong=function(e){var t=e.history;return r.default.createElement(u.ErrorPage,{title:"We're sorry, the payment was unsuccessful",errorMessage:"Something went wrong. Please try again if you want to continue with the order.",showSubtitle:!1,links:[{location:"/",text:"Continue with the order"},{location:"https://www.stockport.gov.uk",text:"Go to the homepage",class:"button-secondary"}],history:t})};s.propTypes={context:a.default.object,history:a.default.object,errorMessage:a.default.string,title:a.default.string,links:a.default.array},t.default=(0,o.default)(s)},859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(3),o=i(a),u=i(n(2)),l=n(417),s=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e,t){var r=Object.assign({},n.state);r[e.target.name].value=e.target.value,r[e.target.name].isValid=t,n.setState(r)},n.isOutsideRange=function(e){return(0,s.default)(e).format("YYYY-MM-DD")>(0,s.default)().format("YYYY-MM-DD")},n.onFormSubmission=function(){var e=Object.assign({},n.state);e.submittedFormSuccessfully=!0,n.setState(e)},n.state={formHeader:"Book your taxi driver knowledge test",testType:{value:"",isValid:!1},isResit:{value:"",isValid:!1},previousTestDate:{value:"",isValid:!1},firstName:{value:"",isValid:""},lastName:{value:"",isValid:""},phoneNumber:{value:"",isValid:""},emailAddress:{value:"",isValid:""},address:{value:"",isValid:""},appointments:[],twelveWeekAppointments:[],eighteenWeekAppointments:[],paymentReference:"",displayRecaptcha:null!=document.getElementById("displayRecaptcha")&&"true"===document.getElementById("displayRecaptcha").innerHTML,onChange:n.onChange,isOutsideRange:n.isOutsideRange},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return o.default.createElement(l.Context.Provider,{value:this.state},this.props.children)}}]),t}();c.propTypes={history:u.default.object,context:u.default.object,children:u.default.object,mockState:u.default.object},t.default=c},864:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollToTop=void 0;var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),u=n(199),l=n(2),s=(r=l)&&r.__esModule?r:{default:r};var i=t.ScrollToTop=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}();i.propTypes={location:s.default.string,children:s.default.object},t.default=(0,u.withRouter)(i)}});